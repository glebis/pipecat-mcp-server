{"id":"pmc-101","title":"Description","description":"Any exception inside `bot()` -- including the expected disconnect RuntimeError from `PipecatMCPAgent.listen()` -- is sent back as a `\"text\"` payload and breaks the loop. This tears down the child process, requiring manual restart via `start` tool.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T00:03:35.350587+01:00","updated_at":"2026-02-20T00:03:46.758888+01:00","deleted_at":"2026-02-20T00:03:46.758888+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"pmc-28y","title":"Acceptance Criteria","description":"- `ScreenCaptureProcessor` exposes a public `list_windows()` method","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T00:03:35.351914+01:00","updated_at":"2026-02-20T00:03:46.758888+01:00","deleted_at":"2026-02-20T00:03:46.758888+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"pmc-454","title":"Acceptance Criteria","description":"- Permission errors surface in the MCP response","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T00:03:35.353051+01:00","updated_at":"2026-02-20T00:03:46.758888+01:00","deleted_at":"2026-02-20T00:03:46.758888+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"pmc-45y","title":"Emotion tag docs incomplete for kokoro preset","description":"speak() docstring says deepgram/local strip tags but kokoro also strips them. Code docstrings inconsistent with README. Location: agent.py:313","acceptance_criteria":"Docstrings match README. All 5 presets listed in emotion tag behavior docs.","status":"closed","priority":3,"issue_type":"chore","owner":"glebis@gmail.com","created_at":"2026-02-20T00:04:07.396253+01:00","created_by":"glebis","updated_at":"2026-02-20T00:14:28.261261+01:00","closed_at":"2026-02-20T00:14:28.261261+01:00","close_reason":"Fixed docstring: deepgram/local/kokoro all strip emotion tags","labels":["docs","ux"]}
{"id":"pmc-486","title":"Acceptance Criteria","description":"- Port cleanup only kills processes owned by this server (check process name or PID file)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T00:03:35.34909+01:00","updated_at":"2026-02-20T00:03:46.758888+01:00","deleted_at":"2026-02-20T00:03:46.758888+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"pmc-4bp","title":"Acceptance Criteria","description":"- All MCP tools use consistent response patterns","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T00:03:35.352433+01:00","updated_at":"2026-02-20T00:03:46.758888+01:00","deleted_at":"2026-02-20T00:03:46.758888+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"pmc-4me","title":"Description","description":"`start_pipecat_process()` unconditionally kills every PID bound to port 7860 before launching Pipecat. This can terminate unrelated local services or tunnels without warning.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T00:03:35.347907+01:00","updated_at":"2026-02-20T00:03:46.758888+01:00","deleted_at":"2026-02-20T00:03:46.758888+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"pmc-5ce","title":"Acceptance Criteria","description":"- README clarifies that `start` tool must be called first","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T00:03:35.353686+01:00","updated_at":"2026-02-20T00:03:46.758888+01:00","deleted_at":"2026-02-20T00:03:46.758888+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"pmc-5i4","title":"time.sleep blocks async event loop on startup","description":"start_pipecat_process() calls time.sleep(1.0) on the main thread. Since start() is async, this freezes the MCP server event loop. Location: agent_ipc.py:108","acceptance_criteria":"Startup wait uses async sleep or executor. MCP server stays responsive during startup. Tests verify non-blocking.","status":"closed","priority":1,"issue_type":"bug","owner":"glebis@gmail.com","created_at":"2026-02-20T00:03:54.908508+01:00","created_by":"glebis","updated_at":"2026-02-20T00:15:54.284479+01:00","closed_at":"2026-02-20T00:15:54.284479+01:00","close_reason":"Extracted async check_startup_health(): uses asyncio.sleep instead of blocking time.sleep","labels":["architecture","ipc"]}
{"id":"pmc-62p","title":"capture_screenshot blocks forever without screen capture","description":"capture_screenshot() awaits VisionProcessor.get_result() which blocks forever if screen_capture() was never started or backend errored. Location: agent.py:371, vision.py:35","acceptance_criteria":"capture_screenshot has timeout (5s). Returns helpful error if capture not started. Returns helpful error on permission issues.","status":"closed","priority":2,"issue_type":"bug","owner":"glebis@gmail.com","created_at":"2026-02-20T00:03:58.593751+01:00","created_by":"glebis","updated_at":"2026-02-20T00:11:08.481077+01:00","closed_at":"2026-02-20T00:11:08.481077+01:00","close_reason":"VisionProcessor.get_result() now accepts timeout param (default 5s). Raises asyncio.TimeoutError instead of blocking forever.","labels":["architecture","vision"]}
{"id":"pmc-6o0","title":"Acceptance Criteria","description":"- Each transport type has appropriate readiness detection","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T00:03:35.350328+01:00","updated_at":"2026-02-20T00:03:46.758888+01:00","deleted_at":"2026-02-20T00:03:46.758888+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"pmc-6rt","title":"Acceptance Criteria","description":"- Code docstrings match README documentation","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T00:03:35.356051+01:00","updated_at":"2026-02-20T00:03:46.758888+01:00","deleted_at":"2026-02-20T00:03:46.758888+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"pmc-7li","title":"Description","description":"Tool responses are inconsistent: `start()` returns plain strings, `speak()` always returns `True` even on errors, exceptions echo as `\"text\"` so MCP clients can't distinguish speech from failures.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T00:03:35.35218+01:00","updated_at":"2026-02-20T00:03:46.758888+01:00","deleted_at":"2026-02-20T00:03:46.758888+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"pmc-8rv","title":"Bot loop tears down on any exception","description":"Any exception in bot() including expected disconnect RuntimeError breaks the loop and tears down child process. Requires manual restart. Location: bot.py:50, agent.py:280","acceptance_criteria":"Expected disconnects handled gracefully. Bot loop survives recoverable errors. Structured error responses separate errors from speech.","status":"closed","priority":2,"issue_type":"bug","owner":"glebis@gmail.com","created_at":"2026-02-20T00:03:57.131922+01:00","created_by":"glebis","updated_at":"2026-02-20T00:11:10.414445+01:00","closed_at":"2026-02-20T00:11:10.414445+01:00","close_reason":"Bot error handler uses {error:...} key and removed break. Loop survives non-fatal errors.","labels":["architecture","resilience"]}
{"id":"pmc-9j1","title":"Acceptance Criteria","description":"- `start()` response includes the active voice preset name","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T00:03:35.355064+01:00","updated_at":"2026-02-20T00:03:46.758888+01:00","deleted_at":"2026-02-20T00:03:46.758888+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"pmc-9ou","title":"README misleads about playground availability","description":"README says playground runs on :7860 right after starting server, but it only exists after MCP client calls start tool. Location: README.md:55","acceptance_criteria":"README clarifies start tool must be called first or describes full startup sequence.","status":"closed","priority":2,"issue_type":"chore","owner":"glebis@gmail.com","created_at":"2026-02-20T00:04:04.650522+01:00","created_by":"glebis","updated_at":"2026-02-20T00:14:28.330972+01:00","closed_at":"2026-02-20T00:14:28.330972+01:00","close_reason":"README clarifies playground available after start tool call","labels":["docs","ux"]}
{"id":"pmc-ctd","title":"Port 7860 kill -9 is over-aggressive","description":"start_pipecat_process() unconditionally kills every PID on port 7860 before launching Pipecat. Can terminate unrelated services. Add ownership check or PID file. Location: agent_ipc.py:66","acceptance_criteria":"Port cleanup only kills pipecat-owned processes. Non-pipecat processes produce warning. Tests verify cleanup.","status":"closed","priority":1,"issue_type":"bug","owner":"glebis@gmail.com","created_at":"2026-02-20T00:03:52.989426+01:00","created_by":"glebis","updated_at":"2026-02-20T00:15:54.218166+01:00","closed_at":"2026-02-20T00:15:54.218166+01:00","close_reason":"Extracted _cleanup_port(): only kills python/pipecat processes, warns about others","labels":["architecture","security"]}
{"id":"pmc-ebx","title":"Description","description":"`_start_capture()` logs the PermissionError but responds `{\"ok\": True, \"window_id\": None}`, making the agent think capture succeeded. Users get no feedback that macOS denied screen recording permission.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T00:03:35.352712+01:00","updated_at":"2026-02-20T00:03:46.758888+01:00","deleted_at":"2026-02-20T00:03:46.758888+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"pmc-efw","title":"Description","description":"Users set `VOICE_PRESET` but the only confirmation is a log line in the child process. Missing API keys cause crashes without connecting back to the preset. The `start()` tool should report the active preset and validate dependencies upfront.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T00:03:35.354454+01:00","updated_at":"2026-02-20T00:03:46.758888+01:00","deleted_at":"2026-02-20T00:03:46.758888+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"pmc-eq1","title":"Description","description":"`start_pipecat_process()` calls `time.sleep(1.0)` on the main thread. Since `start()` is async, this freezes the MCP server event loop during every startup/restart, blocking all other MCP requests.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T00:03:35.349477+01:00","updated_at":"2026-02-20T00:03:46.758888+01:00","deleted_at":"2026-02-20T00:03:46.758888+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"pmc-faz","title":"Voice preset feedback is opaque","description":"VOICE_PRESET confirmation is only a log line in child process. Missing API keys cause crashes without connecting to preset. start() should report active preset and validate deps. Location: agent.py:383","acceptance_criteria":"start() response includes active preset. Missing API keys detected at startup. Error messages reference preset and missing key.","status":"closed","priority":2,"issue_type":"bug","owner":"glebis@gmail.com","created_at":"2026-02-20T00:04:06.029861+01:00","created_by":"glebis","updated_at":"2026-02-20T00:27:15.824178+01:00","closed_at":"2026-02-20T00:27:15.824178+01:00","close_reason":"Added _validate_preset() with API key checks","labels":["presets","ux"]}
{"id":"pmc-hpo","title":"Description","description":"README says \"The voice agent's audio playground runs on http://localhost:7860\" right after running `pipecat-mcp-server`, but that URL only exists after an MCP client calls the `start` tool.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T00:03:35.353325+01:00","updated_at":"2026-02-20T00:03:46.758888+01:00","deleted_at":"2026-02-20T00:03:46.758888+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"pmc-iaw","title":"Description","description":"`PipecatMCPAgent.list_windows()` directly accesses `ScreenCaptureProcessor._backend`, coupling the agent to processor internals. Any backend swap or test double must replicate the same private attribute.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T00:03:35.351621+01:00","updated_at":"2026-02-20T00:03:46.758888+01:00","deleted_at":"2026-02-20T00:03:46.758888+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"pmc-jjg","title":"Screen capture permission errors swallowed","description":"_start_capture() logs PermissionError but responds ok:True window_id:None. Agent thinks capture succeeded. No user feedback about denied macOS permission. Location: screen_capture_processor.py:100","acceptance_criteria":"Permission errors surface in MCP response. Error suggests granting OS permissions. Tests verify error propagation.","status":"closed","priority":1,"issue_type":"bug","owner":"glebis@gmail.com","created_at":"2026-02-20T00:04:03.504172+01:00","created_by":"glebis","updated_at":"2026-02-20T00:15:54.347745+01:00","closed_at":"2026-02-20T00:15:54.347745+01:00","close_reason":"PermissionError propagates from screen_capture_processor; server.py checks for error key","labels":["ux","vision"]}
{"id":"pmc-lrl","title":"Description","description":"`capture_screenshot()` flips a flag and awaits `VisionProcessor.get_result()`, which blocks forever if `screen_capture()` was never started or if the backend errored (e.g. permission denied on macOS).","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T00:03:35.351105+01:00","updated_at":"2026-02-20T00:03:46.758888+01:00","deleted_at":"2026-02-20T00:03:46.758888+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"pmc-m8a","title":"Acceptance Criteria","description":"- `capture_screenshot` has a timeout (e.g. 5s)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T00:03:35.351363+01:00","updated_at":"2026-02-20T00:03:46.758888+01:00","deleted_at":"2026-02-20T00:03:46.758888+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"pmc-mcx","title":"Description","description":"The `speak()` docstring says \"deepgram/local\" strip tags but kokoro also strips them. README emotion tag table is correct but code docstrings are inconsistent.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T00:03:35.355613+01:00","updated_at":"2026-02-20T00:03:46.758888+01:00","deleted_at":"2026-02-20T00:03:46.758888+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"pmc-p9z","title":"Description","description":"`start()` in server.py hardcodes readiness detection to poll `http://localhost:7860` for WebRTC or hit `/start` for Daily. LiveKit and telephony transports get false \"not available\" errors even when the runner is fine.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T00:03:35.35005+01:00","updated_at":"2026-02-20T00:03:46.758888+01:00","deleted_at":"2026-02-20T00:03:46.758888+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"pmc-pkp","title":"Inconsistent MCP tool response schema","description":"start() returns strings, speak() always returns True even on errors, exceptions echo as text. MCP clients can't distinguish speech from failures. Location: server.py:39, agent_ipc.py:274, bot.py:75","acceptance_criteria":"All MCP tools use consistent response patterns. Errors propagated to clients. speak() returns error info on failure.","status":"closed","priority":1,"issue_type":"bug","owner":"glebis@gmail.com","created_at":"2026-02-20T00:04:02.592333+01:00","created_by":"glebis","updated_at":"2026-02-20T00:11:12.402767+01:00","closed_at":"2026-02-20T00:11:12.402767+01:00","close_reason":"speak() now checks for error in response and raises RuntimeError. Bot sends {error:...} not {text:...}.","labels":["mcp","ux"]}
{"id":"pmc-rud","title":"Transport readiness only handles Daily/WebRTC","description":"start() hardcodes readiness to poll localhost:7860 for WebRTC or /start for Daily. LiveKit and telephony get false failures. Location: server.py:48","acceptance_criteria":"Each transport has appropriate readiness detection. LiveKit/telephony report success correctly. Unknown transports get sensible default.","status":"closed","priority":1,"issue_type":"bug","owner":"glebis@gmail.com","created_at":"2026-02-20T00:03:56.187964+01:00","created_by":"glebis","updated_at":"2026-02-20T00:27:15.759938+01:00","closed_at":"2026-02-20T00:27:15.759938+01:00","close_reason":"Added per-transport readiness detection","labels":["architecture","transport"]}
{"id":"pmc-shq","title":"Acceptance Criteria","description":"- Startup wait uses async sleep or runs in executor","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T00:03:35.349775+01:00","updated_at":"2026-02-20T00:03:46.758888+01:00","deleted_at":"2026-02-20T00:03:46.758888+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"pmc-xhi","title":"list_windows accesses processor internals","description":"PipecatMCPAgent.list_windows() accesses ScreenCaptureProcessor._backend directly. Couples agent to processor internals. Location: agent.py:347","acceptance_criteria":"ScreenCaptureProcessor exposes public list_windows(). Agent calls public method.","status":"closed","priority":3,"issue_type":"chore","owner":"glebis@gmail.com","created_at":"2026-02-20T00:03:59.998713+01:00","created_by":"glebis","updated_at":"2026-02-20T00:27:15.88589+01:00","closed_at":"2026-02-20T00:27:15.88589+01:00","close_reason":"Added public list_windows() to ScreenCaptureProcessor","labels":["architecture","encapsulation"]}
{"id":"pmc-y5g","title":"Acceptance Criteria","description":"- Expected disconnects are handled gracefully without tearing down","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-02-20T00:03:35.350851+01:00","updated_at":"2026-02-20T00:03:46.758888+01:00","deleted_at":"2026-02-20T00:03:46.758888+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
